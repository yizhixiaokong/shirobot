# 编年史

## ***“test，nihaoya”&emsp;--2021年5月10日***

shirobot初代机发出了她的第一次消息。当时，完全只是部署了go-cqhttp，然后在postman上调用了api，甚至没有shirobot的项目和代码。但无论如何，这团火苗已经燃起，我愿称go-cqhttp为shirobot的灵魂。

## ***“我已经收到你的消息了，内容是：{哈喽哈喽}”&emsp;--2021年5月22日***

经过几周的摸索（其实都是摸鱼或者下班的时候写一点），shirobot初代机初步拥有了自己的收发功能，能接收消息并装饰后复读回去。此时的她，简单拥有了耳朵和嘴巴。

## ***“这多少有些超出了我的理解范围”&emsp;--2021年9月1日***

几个月的沉寂（懒）后，shirobot又一次发出了消息。这次的更新后，程序能区分群消息与私聊消息，能配置可私聊的账号，可配置超级管理员账号，同时开发了系统指令功能，可通过`@shiro /xxx`的语句，发送若干设定好的指令，能触发相应的功能。对于非指令语句的艾特，则是会给出：“这多少有些超出了我的理解范围”、“听不懂听不懂”、“这就是人类的语言吗，好难懂”等回复。这个阶段，她的心智开始发展。

## ***“哈喽哈喽，今天天气真好~”&emsp;--2021年11月22日***

又经过几个月，shirobot其实并没有增加多少功能(懒)。这次更新了shirobot对一些固定的关键词有了简单的回答，如简单的问好，shiro会根据时段做对应的早中晚问好。这时，她懂礼貌了(笑)。

## ***“…………”&emsp;--2021年12月-2022年12月***

此后的一年里，shirobot再没怎么新的更新了。因为程序没做自动重启，在服务器重启后，shirobot便关机了。我也没有去管她，也就一直放任她在哪里沉睡。甚至因为之后一次服务器改配置换系统，我想着服务器里也没什么重要的数据，就没做数据备份，直接把数据清掉了。至此shirobot的程序连同go-cqhttp程序已经在服务器上彻底消失了。虽然代码还在仓库，但后来尝试几次发现go-cqhttp重部起来还有些麻烦，就放那里一直没管了。

这一年里虽然没去管shirobot，但偶尔看到bot相关的项目或者其他可以借鉴学习吸收的项目时，也都有积极的去学习其中的代码，也收藏了很多有用的文章，加上工作上新学到的很多东西，便觉得可以重新写一版。于是……

## ***“shiro酱堂堂复活!!! <br> 2022-12-29T17:57:30+08:00 <br> Do you wanna build a snowman?”&emsp;--2022年12月29日***

我删除了旧的仓库，重新建立新的仓库，重新整理了代码结构，引用更新更好的包，重新设计规划了shirobot的功能。同时，在代码规范、部署方式等方面也都做了升级，以避免之前遇到的go-cqhttp部署和shirobot重启的问题。且在shirobot和go-cqhttp的链接方式上也做了改变，从原本的互相http请求改成了websocket连接，考虑到go-cqhttp部署后基本就不会变动，而shirobot会时常更新和重启，采用go-cqhttp为服务端，shiobot为客户端的方式交互。目前为止(至2023年1月初)，程序代码只做了基础的框架、部署启动、基础的ws连接和收发消息功能，并简单定义了go-cqhttp的api和event的请求参数和接收参数结构体。业务功能上，仅做了一个程序启动时对指定用户或群发送一条广播消息。至此，正如这条广播的宣告。**shirobot堂堂复活！**
